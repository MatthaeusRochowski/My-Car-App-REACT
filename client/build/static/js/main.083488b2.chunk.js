(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),c=(a(63),a(64),a(5)),i=a(6),o=a(8),u=a(7),m=a(9),h=(a(65),a(18)),p=a(13),d=a(107),g=a(11),E=a.n(g),f=function(e,t){return E.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},b=function(e,t){return E.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=function(e){return r.a.createElement(d.a,{className:"nav justify-content-end",bg:"primary"},e.user?r.a.createElement("div",null,r.a.createElement(p.b,{to:"/myCars"},"Mein Fuhrpark"),r.a.createElement(p.b,{to:"/fuelstations"},"Tankstellen"),r.a.createElement(p.b,{to:"/",onClick:function(){E.a.delete("/api/auth/logout"),e.setUser(null)}},"Logout")):r.a.createElement("div",null,r.a.createElement(p.b,{to:"/"},"Home"),r.a.createElement(p.b,{to:"/signup"},"Signup"),r.a.createElement(p.b,{to:"/login"},"Login")))},C=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Startpage"),r.a.createElement("p",null," ... this is the homepage of the application ... "))}}]),t}(r.a.Component),k=a(23),y=a(106),j=a(108),O=a(104),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),f(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/myCars"))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement("h2",null,"Signup"),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(y.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(y.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(j.a,{variant:"danger"},this.state.error),r.a.createElement(O.a,{type:"submit"},"Sign up")))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"Matth\xe4us",password:"12345678",error:""},a.handleChange=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),b(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/myCars"))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"username"},"Username: "),r.a.createElement(y.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(y.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(j.a,{variant:"danger"},this.state.error),r.a.createElement(O.a,{type:"submit"},"Log in")))}}]),t}(n.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("Car -----\x3e rendered"),console.log("Car ---\x3e props",this.props.car),r.a.createElement("div",{className:"car-partial"},r.a.createElement(p.b,{to:"/myCars/".concat(this.props.car._id)},r.a.createElement("div",{className:"car-img-div"},r.a.createElement("img",{src:this.props.car.bild,className:"car-image",alt:"Autobild"}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kennzeichen:"),r.a.createElement("span",null,this.props.car.kennzeichen)),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Hersteller:"),r.a.createElement("span",null,this.props.car.hersteller)),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Modell:"),r.a.createElement("span",null,this.props.car.modell)),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Erstzulassung:"),r.a.createElement("span",null,this.props.car.erstzulassung_monat," /"," ",this.props.car.erstzulassung_jahr)),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kilometerstand:"),r.a.createElement("span",null,this.props.car.kilometerstand," km")),r.a.createElement(O.a,null,"Fahrt eintragen"),r.a.createElement(O.a,null,"Rechnung erfassen"))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cars:[]},a.getData=function(){E.a.get("/api/myCars").then((function(e){a.setState({cars:e.data})})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("myCars -----\x3e rendered"),console.log(this.state.cars),r.a.createElement("div",null,r.a.createElement("h1",null,"Hi ",this.props.user.username),r.a.createElement("h3",null,"Dein aktueller Fuhrpark"),r.a.createElement("section",{id:"car-overview"},r.a.createElement(p.b,{to:"/addCar"},r.a.createElement(O.a,{type:"submit"},"Fahrzeug hinzuf\xfcgen")),r.a.createElement("div",{className:"cards-container"},this.state.cars.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(w,{car:e}))})))))}}]),t}(n.Component),L=a(38),F=a.n(L),_=a(56),N=function(e){throw e},M=E.a.create({baseURL:"http://localhost:3000"}),P=function(e){return console.log("file to be handled: ",e),M.post("api/upload",e).then((function(e){return e.data})).catch(N)},A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={car:{eigner_ref:a.props.user._id,kennzeichen:"",hersteller:"",modell:"",kraftstoff:"",verbrauch:"",leistung_ps:"",erstzulassung_monat:"",erstzulassung_jahr:"",kaufdaten:{kaufdatum:"",kaufpreis:"",laufleistung:""},kilometerstand:"",bild:"",publicId:""},file:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,l=a.state.car,s=a.state.car.kaufdaten;s.hasOwnProperty(n)?(console.log("in kaufdaten"),s[n]=r,a.setState({kaufdaten:s})):l.hasOwnProperty(n)&&(console.log("in car"),l[n]=r,a.setState({car:l}))},a.handleFileSelect=function(e){a.setState({file:e.target.files[0]})},a.handleSubmit=function(){var e=Object(_.a)(F.a.mark((function e(t){var n,r,l,s,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Submit Button pressed"),t&&t.preventDefault(),console.log("The file to be uploaded is: ",a.state.file),(n=new FormData).append("file",a.state.file),e.prev=5,e.next=8,P(n);case 8:r=e.sent,l=r.secure_url,s=r.public_id,(c=a.state.car).bild=l,c.publicId=s,a.setState({car:c}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),a.setState({error:e.t0}),console.log("Error",a.state.error);case 21:return e.prev=21,e.next=24,E.a.post("/api/myCars",{car:a.state.car});case 24:e.sent,a.props.history.push("/myCars"),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(21),a.setState({error:e.t1}),console.log("Error",a.state.error);case 32:case"end":return e.stop()}}),e,null,[[5,17],[21,28]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("AddCar -----\x3e rendered"),console.log("AddCar props: ",this.props.user),console.log("State: ",this.state),r.a.createElement("div",null,r.a.createElement(y.a,{onSubmit:this.handleSubmit},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,{htmlFor:"kennzeichen"},"Kennzeichen: "),r.a.createElement(y.a.Control,{type:"text",name:"kennzeichen",id:"kennzeichen",value:this.state.car.kennzeichen,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"hersteller"},"Hersteller: "),r.a.createElement(y.a.Control,{type:"text",name:"hersteller",id:"hersteller",value:this.state.car.hersteller,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"modell"},"Modell: "),r.a.createElement(y.a.Control,{type:"text",name:"modell",id:"modell",value:this.state.car.modell,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"kraftstoff"},"Kraftstoff: "),r.a.createElement(y.a.Control,{type:"text",name:"kraftstoff",id:"kraftstoff",value:this.state.car.kraftstoff,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"verbrauch"},"Verbrauch: "),r.a.createElement(y.a.Control,{type:"text",name:"verbrauch",id:"verbrauch",value:this.state.car.verbrauch,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"leistung_ps"},"PS: "),r.a.createElement(y.a.Control,{type:"text",name:"leistung_ps",id:"leistung_ps",value:this.state.car.leistung_ps,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"erstzulassung_monat"},"Erstzulassung Monat:"," "),r.a.createElement(y.a.Control,{type:"text",name:"erstzulassung_monat",id:"erstzulassung_monat",value:this.state.car.erstzulassung_monat,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"erstzulassung_jahr"},"Erstzulassung Jahr:"," "),r.a.createElement(y.a.Control,{type:"text",name:"erstzulassung_jahr",id:"erstzulassung_jahr",value:this.state.car.erstzulassung_jahr,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"kaufdatum"},"Kaufdatum: "),r.a.createElement(y.a.Control,{type:"text",name:"kaufdatum",id:"kaufdatum",value:this.state.car.kaufdaten.kaufdatum,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"kaufpreis"},"Kaufpreis: "),r.a.createElement(y.a.Control,{type:"text",name:"kaufpreis",id:"kaufpreis",value:this.state.car.kaufdaten.kaufpreis,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"laufleistung"},"Kilometerstand: "),r.a.createElement(y.a.Control,{type:"text",name:"laufleistung",id:"laufleistung",value:this.state.car.kaufdaten.laufleistung,onChange:this.handleChange}),r.a.createElement(y.a.Label,{htmlFor:"bild"},"Bild: "),r.a.createElement(y.a.Control,{type:"file",name:"bild",id:"bild",onChange:this.handleFileSelect})),r.a.createElement(O.a,{type:"submit"},"Speichern")))}}]),t}(n.Component),D=a(105),K=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Fahrtenbuch"),r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("th",null,"Datum"),r.a.createElement("th",null,"Startort"),r.a.createElement("th",null,"Zielort"),r.a.createElement("th",null,"Km Start"),r.a.createElement("th",null,"Km Ende"),r.a.createElement("th",null,"Strecke Gesamt"),r.a.createElement("th",null,"Eintrag \xe4ndern"),r.a.createElement("th",null,"Eintrag l\xf6schen")),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"2020-02-01"),r.a.createElement("td",null,"Ingolstadt"),r.a.createElement("td",null,"M\xfcnchen"),r.a.createElement("td",null,"20"),r.a.createElement("td",null,"100"),r.a.createElement("td",null,"80"),r.a.createElement("td",null,"\xe4ndern"),r.a.createElement("td",null,"l\xf6schen")))))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={car:{kennzeichen:"",hersteller:"",modell:"",kraftstoff:"",verbrauch:"",leistung_ps:"",erstzulassung_monat:"",erstzulassung_jahr:"",kaufdaten:{kaufdatum:"",kaufpreis:"",laufleistung:""},kilometerstand:"",bild:""},editActive:!1,error:""},a.getData=function(){var e=a.props.match.params.id;E.a.get("/api/myCars/".concat(e)).then((function(e){console.log("Axios Call ----\x3e Get Data executed",e),a.setState({car:e.data})})).catch((function(e){404===e.response.status&&a.setState({error:e.response.data.message})}))},a.toggleEdit=function(){a.setState({editActive:!a.state.editActive})},a.handleChange=function(e){console.log("active? ",a.state.editActive);var t=e.target,n=t.name,r=t.value;if(console.log(n+" "+r),a.state.editActive){console.log("edit active");var l=a.state.car,s=a.state.car.kaufdaten;s.hasOwnProperty(n)?(console.log("in kaufdaten"),s[n]=r,a.setState({kaufdaten:s})):l.hasOwnProperty(n)&&(console.log("in car"),l[n]=r,a.setState({car:l}))}},a.deleteCar=function(){var e=a.props.match.params.id;E.a.delete("/api/myCars/".concat(e)).then((function(e){console.log(a.props.history),a.props.history.push("/myCars")})).catch((function(e){console.log(e)}))},a.handleSubmit=function(e){console.log("handle submit",a.state.car),e.preventDefault();var t=a.props.match.params.id;E.a.put("/api/myCars/".concat(t),{car:a.state.car}).then((function(e){console.log("carEditResp: ",e),a.setState({car:e.data,editActive:!1})})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("CarDetails -----\x3e rendered"),console.log("state: ",this.state.car),r.a.createElement("div",null,r.a.createElement("h2",null,"Fahrzeug Details f\xfcr ",this.state.car.kennzeichen),r.a.createElement("div",{className:"car-details"},r.a.createElement("div",{className:"car-details-form"},r.a.createElement(O.a,{onClick:this.toggleEdit},"Fahrzeugdaten \xe4ndern"),r.a.createElement(O.a,{variant:"danger",onClick:this.deleteCar},"Fahrzeug l\xf6schen"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"car-img-div"},r.a.createElement("img",{src:this.state.car.bild,className:"car-image",alt:"Autobild"})),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kennzeichen:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"kennzeichen",id:"kennzeichen",value:this.state.car.kennzeichen,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Hersteller:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"hersteller",id:"hersteller",value:this.state.car.hersteller,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Modell:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"modell",id:"modell",value:this.state.car.modell,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Erstzulassung Monat:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"erstzulassung_monat",id:"erstzulassung_monat",value:this.state.car.erstzulassung_monat,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Erstzulassung Jahr:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"erstzulassung_jahr",id:"erstzulassung_jahr",value:this.state.car.erstzulassung_jahr,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kraftstoff:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"kraftstoff",id:"kraftstoff",value:this.state.car.kraftstoff,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Verbrauch:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"verbrauch",id:"verbrauch",value:void 0===this.state.car.verbrauch?"":this.state.car.verbrauch,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Leistung:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"leistung_ps",id:"leistung_ps",value:this.state.car.leistung_ps,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kilometerstand:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"kilometerstand",id:"kilometerstand",value:this.state.car.kilometerstand,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kaufdatum:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"kaufdatum",id:"kaufdatum",value:this.state.car.kaufdaten.kaufdatum||"",onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kaufpreis:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"kaufpreis",id:"kaufpreis",value:this.state.car.kaufdaten.kaufpreis,onChange:this.handleChange}))),r.a.createElement("p",{className:"p-class"},r.a.createElement("span",null,"Kilometerstand bei Kauf:"),r.a.createElement("span",null,r.a.createElement("input",{type:"text",name:"laufleistung",id:"laufleistung",value:this.state.car.kaufdaten.laufleistung,onChange:this.handleChange}))),r.a.createElement(O.a,{type:"submit"},"Edit")))),r.a.createElement("div",{className:"car-details-logbook"},r.a.createElement(K,null))))}}]),t}(n.Component),U=a(57),B=a(26),W={width:"100%",height:"80vh"},G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){for(var e=this,t=Object(U.a)(this.props.markers).map((function(e){return{lat:e.lat,lng:e.lng}})),a=new this.props.google.maps.LatLngBounds,n=0;n<t.length;n++)a.extend(t[n]);return r.a.createElement(B.Map,{google:this.props.google,initialCenter:this.props.center,bounds:a,style:W,onClick:this.onMapClicked,streetViewControl:!1,rotateControl:!1},this.props.markers.map((function(t){return r.a.createElement(B.Marker,Object.assign({key:t.index},t,{title:t.brand+"\n"+t.name,position:{lat:t.lat,lng:t.lng},icon:{url:"http://maps.google.com/mapfiles/ms/icons/".concat(t.color,"-dot.png")},onClick:e.onMarkerClick}))})),r.a.createElement(B.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",{className:"googleMapsStationInfo"},r.a.createElement("h5",null,this.state.selectedPlace.brand),r.a.createElement("h6",null,this.state.selectedPlace.name),r.a.createElement("p",null,r.a.createElement("b",null,"Strasse:")," ",this.state.selectedPlace.street),r.a.createElement("p",null,r.a.createElement("b",null,"Stadt:")," ",this.state.selectedPlace.place),r.a.createElement("p",null,r.a.createElement("b",null,"Entfernung (km):")," ",this.state.selectedPlace.dist),r.a.createElement("p",null,r.a.createElement("b",null,"Benzin (E5):")," ",this.state.selectedPlace.e5),r.a.createElement("p",null,r.a.createElement("b",null,"Benzin (E10):")," ",this.state.selectedPlace.e10),r.a.createElement("p",null,r.a.createElement("b",null,"Diesel:")," ",this.state.selectedPlace.diesel))))}}]),t}(n.Component),R=Object(B.GoogleApiWrapper)({apiKey:"AIzaSyDPIPUZEpxhHJFKdfVta60o6N25Rvzm7aQ"})(G),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={zip:"",fuelstations:[],sortOrder:"distance",testMode:!0},a.handleInputChanges=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t="/api/getFuelStations?zip="+(""===a.state.zip?"85053":a.state.zip);console.log("Frontend: FuelStations: FuelStations.js  - before Backend call"),E.a.get(t).then((function(e){console.log("Frontend: FuelStations: FuelStations.js - response received: "),a.setState({fuelstations:e.data.stations,testMode:e.data.testMode})}))},a.calculateMapCenter=function(){var e=a.state.fuelstations;if(e.length>0){var t=e.reduce((function(e,t){var a={minLat:t.lat,maxLat:t.lat,minLng:t.lng,maxLng:t.lng};return e.minLat>t.lat?a.minLat=t.lat:a.minLat=e.minLat,e.minLng>t.lng?a.minLng=t.lng:a.minLng=e.minLng,e.maxLat<t.lat?a.maxLat=t.lat:a.maxLat=e.maxLat,e.maxLng<t.lng?a.maxLng=t.lng:a.maxLng=e.maxLng,a}),{minLat:999999,maxLat:0,minLng:999999,maxLng:0});t={lat:Math.round(1e3*(t.minLat+(t.maxLat-t.minLat)/2))/1e3,lng:Math.round(1e3*(t.minLng+(t.maxLng-t.minLng)/2))/1e3}}return{lat:48.731,lng:11.187}},a.prepareFuelStations=function(){var e={lat:48.731,lng:11.187},t=a.state.fuelstations;if(t.length>0){var n=a.state.sortOrder;e=t.sort((function(e,t){switch(n){case"distance":return e.dist>t.dist?1:e.dist<t.dist?-1:0;case"e5price":return null===e.e5?1:null===t.e5?-1:e.e5-t.e5===0?e.dist-t.dist:e.e5-t.e5;case"e10price":return null===e.e10?1:null===t.e10?-1:e.e10-t.e10===0?e.dist-t.dist:e.e10-t.e10;case"dieselprice":return null===e.diesel?1:null===t.diesel?-1:e.diesel-t.diesel===0?e.dist-t.dist:e.diesel-t.diesel;default:return 0}})).map((function(e,t){return e.index=t,e.hasOwnProperty("place")&&(e.city=e.place,delete e.place),e.color=0===t?"red":"blue",e}))}return e},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("Frontend: FuelStations: FuelStations.js - render invoked");var e=this.state.fuelstations,t=this.calculateMapCenter(),a=this.prepareFuelStations(),n=r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",{htmlFor:"zip"},"Postleitzahl: "),r.a.createElement("input",{name:"zip",type:"text",minLength:"5",maxLength:"5",onChange:this.handleInputChanges,placeholder:"z.B. 85083"}),r.a.createElement("label",{htmlFor:"sortOrder"},"Sortierung nach: "),r.a.createElement("button",{type:"submit"},"Request")),r.a.createElement("select",{name:"sortOrder",onChange:this.handleInputChanges},r.a.createElement("option",{value:"distance"},"Entfernung"),r.a.createElement("option",{value:"e5price"},"E5-Preis"),r.a.createElement("option",{value:"e10price"},"E10-Preis"),r.a.createElement("option",{value:"dieselprice"},"Diesel-Preis")));return r.a.createElement("div",null,r.a.createElement("h1",null,"Tankstellen im Umkreis"),n,e.length>0?r.a.createElement(R,{center:t,markers:a}):console.log("Frontend: FuelStations: FuelStations.js - empty fuelstations state (array) - maps"))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a.myCarsRoute=function(e){return a.state.user?r.a.createElement(z,Object.assign({},e,{user:a.state.user})):r.a.createElement(h.a,{to:"/"})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log("App -----\x3e rendered"),r.a.createElement("div",{className:"App"},r.a.createElement(v,{user:this.state.user,setUser:this.setUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:C}),r.a.createElement(h.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(x,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/myCars",render:this.myCarsRoute}),r.a.createElement(h.b,{exact:!0,path:"/addCar",render:function(t){return r.a.createElement(A,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(h.b,{exact:!0,path:"/myCars/:id",render:function(t){return r.a.createElement(I,Object.assign({user:e.state.user},t))}}),r.a.createElement(h.b,{exact:!0,path:"/fuelstations",component:H})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(r.a.createElement(p.a,null,r.a.createElement(J,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,a){e.exports=a(102)},64:function(e,t,a){},65:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.083488b2.chunk.js.map